<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Panamove 7.0 ‚Äì Servicios de la campa√±a</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg-main: #020617;
      --bg-card: #020817;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.2);
      --accent-strong: #0ea5e9;
      --gold: #fbbf24;
      --gold-soft: rgba(250, 204, 21, 0.15);
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --border-subtle: #111827;
      --success: #22c55e;
      --danger: #f97373;
      --radius-lg: 18px;
      --radius-full: 999px;
      --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.7);
      --transition-fast: 160ms ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #020617, #000000 55%);
      color: var(--text-main);
      display: flex;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* LAYOUT -------------------------------------------------------------- */

    .page {
      display: flex;
      width: 100%;
      min-height: 100vh;
    }

    .sidebar {
      width: 230px;
      background: radial-gradient(circle at top left, #0f172a, #020617 55%);
      border-right: 1px solid #0f172a;
      padding: 1.5rem 1.3rem;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }

    .brand-logo {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: conic-gradient(
        from 160deg,
        #22c55e,
        #22d3ee,
        #a855f7,
        #22c55e
      );
      box-shadow: 0 0 0 2px rgba(15, 23, 42, 0.8);
    }

    .brand-title {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }

    .brand-title strong {
      font-size: 0.95rem;
      letter-spacing: 0.04em;
    }

    .brand-sub {
      font-size: 0.7rem;
      color: var(--text-soft);
      max-width: 160px;
    }

    .nav {
      margin-top: 0.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 0.55rem;
      padding: 0.55rem 0.7rem;
      border-radius: var(--radius-full);
      font-size: 0.8rem;
      color: var(--text-soft);
      cursor: pointer;
      border: 1px solid transparent;
      transition: background var(--transition-fast), color var(--transition-fast),
        border-color var(--transition-fast);
    }

    .nav-item span.icon {
      width: 18px;
      display: inline-flex;
      justify-content: center;
      opacity: 0.8;
    }

    .nav-item-active {
      background: rgba(15, 23, 42, 0.95);
      color: var(--text-main);
      border-color: #0f172a;
      box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.3);
    }

    .nav-item:hover {
      background: rgba(15, 23, 42, 0.7);
      color: #f9fafb;
    }

    .sidebar-footer {
      margin-top: auto;
      font-size: 0.7rem;
      color: #6b7280;
    }

    .main {
      flex: 1;
      padding: 1.7rem 1.9rem 2rem;
      display: flex;
      flex-direction: column;
      gap: 1.4rem;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .top-left {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .top-title {
      font-size: 1.45rem;
      font-weight: 700;
    }

    .top-subtitle {
      font-size: 0.86rem;
      color: var(--text-soft);
    }

    .top-right {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      flex-wrap: wrap;
    }

    .pill {
      border-radius: var(--radius-full);
      padding: 0.32rem 0.9rem;
      font-size: 0.78rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      background: #020617;
      border: 1px solid rgba(51, 65, 85, 0.8);
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.8);
    }

    .pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.25);
    }

    .badge-sistema {
      border-radius: var(--radius-full);
      padding: 0.15rem 0.75rem;
      font-size: 0.7rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent);
      border: 1px solid rgba(56, 189, 248, 0.4);
      background: rgba(15, 23, 42, 0.92);
    }

    .btn-ghost {
      border-radius: var(--radius-full);
      padding: 0.3rem 0.8rem;
      font-size: 0.78rem;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: transparent;
      color: var(--text-soft);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      text-decoration: none;
      transition: background var(--transition-fast), color var(--transition-fast),
        border-color var(--transition-fast), transform var(--transition-fast);
    }

    .btn-ghost:hover {
      background: rgba(15, 23, 42, 0.9);
      color: #f9fafb;
      border-color: rgba(209, 213, 219, 0.7);
      transform: translateY(-1px);
    }

    /* WRAPPERS ------------------------------------------------------------- */

    .card {
      background: radial-gradient(circle at top left, #020817, #020617 55%);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
      padding: 1.2rem 1.3rem;
      box-shadow: var(--shadow-soft);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.8rem;
      flex-wrap: wrap;
    }

    .card-header h2 {
      font-size: 1rem;
      font-weight: 600;
    }

    .card-header p {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin-top: 0.2rem;
    }

    .card-header-main {
      display: flex;
      flex-direction: column;
    }

    /* RESUMEN DE ESTADO ---------------------------------------------------- */

    .services-summary {
      display: flex;
      gap: 0.6rem;
      flex-wrap: wrap;
      margin-top: 0.9rem;
      font-size: 0.75rem;
    }

    .summary-pill {
      border-radius: var(--radius-full);
      padding: 0.22rem 0.7rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.95);
      color: var(--text-soft);
    }

    .summary-pill .dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: var(--success);
    }

    .summary-pill.inactive .dot {
      background: #6b7280;
    }

    /* GRID DE SERVICIOS ---------------------------------------------------- */

    .services-layout {
      margin-top: 1.1rem;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.85rem;
    }

    @media (max-width: 1380px) {
      .services-layout {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    @media (max-width: 1120px) {
      .services-layout {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 780px) {
      .page {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
      }
      .brand-sub {
        display: none;
      }
      .nav {
        flex-direction: row;
        flex-wrap: wrap;
        max-width: 420px;
      }
      .main {
        padding: 1rem 1.2rem 1.5rem;
      }
      .services-layout {
        grid-template-columns: 1fr;
      }
    }

    .service-card {
      border-radius: 16px;
      border: 1px solid #111827;
      background: #020617;
      padding: 0.9rem 0.95rem 0.95rem;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      font-size: 0.8rem;
      position: relative;
      overflow: hidden;
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast),
        transform var(--transition-fast), background var(--transition-fast);
    }

    .service-card-active {
      border-color: rgba(250, 204, 21, 0.7);
      box-shadow: 0 0 0 1px rgba(250, 204, 21, 0.35),
        0 18px 45px rgba(15, 23, 42, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617 55%);
    }

    .service-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.4rem;
    }

    .service-name {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .service-tag {
      border-radius: var(--radius-full);
      padding: 0.15rem 0.6rem;
      font-size: 0.7rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      color: var(--text-soft);
    }

    .service-price {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin-top: 0.15rem;
    }

    .service-desc {
      font-size: 0.78rem;
      color: var(--text-soft);
      margin-top: 0.1rem;
    }

    .service-meta {
      font-size: 0.72rem;
      color: #6b7280;
      margin-top: 0.2rem;
    }

    .service-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.65rem;
      flex-wrap: wrap;
    }

    .service-state-pill {
      border-radius: var(--radius-full);
      padding: 0.22rem 0.7rem;
      font-size: 0.7rem;
      background: var(--gold-soft);
      border: 1px solid rgba(250, 204, 21, 0.7);
      color: #facc15;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .service-state-pill.inactive {
      background: rgba(15, 23, 42, 0.95);
      border-color: rgba(55, 65, 81, 0.9);
      color: var(--text-soft);
    }

    .service-state-pill span.icon {
      font-size: 0.78rem;
    }

    .service-btn {
      border-radius: var(--radius-full);
      padding: 0.25rem 0.85rem;
      font-size: 0.75rem;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: rgba(15, 23, 42, 0.95);
      color: var(--text-main);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      white-space: nowrap;
      transition: background var(--transition-fast),
        border-color var(--transition-fast), transform var(--transition-fast),
        color var(--transition-fast), box-shadow var(--transition-fast);
    }

    .service-btn:hover {
      background: rgba(31, 41, 55, 1);
      border-color: rgba(209, 213, 219, 0.8);
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.9);
    }

    .service-btn-primary {
      background: var(--gold-soft);
      border-color: rgba(250, 204, 21, 0.7);
      color: #facc15;
    }

    .service-btn-primary:hover {
      background: rgba(250, 204, 21, 0.2);
      box-shadow: 0 14px 32px rgba(15, 23, 42, 0.95);
    }

    .service-btn-danger {
      border-color: rgba(248, 113, 113, 0.8);
      color: #fecaca;
      background: rgba(127, 29, 29, 0.65);
    }

    .service-btn-danger:hover {
      background: rgba(185, 28, 28, 0.8);
      box-shadow: 0 14px 32px rgba(127, 29, 29, 0.8);
    }

    .services-footer-hint {
      margin-top: 0.9rem;
      font-size: 0.76rem;
      color: var(--text-soft);
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- SIDEBAR -------------------------------------------------------------->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-logo"></div>
        <div class="brand-title">
          <strong>Panamove 7.0</strong>
          <div class="brand-sub">
            Propietarios, agencias, difusores y auditores.
          </div>
        </div>
      </div>

      <nav class="nav">
        <!-- Dashboard principal limpio -->
        <a href="dashboard-clean.html" class="nav-item">
          <span class="icon">üìä</span>
          Dashboard
        </a>

        <!-- P√°gina actual: Servicios campa√±a -->
        <a href="servicios.html" class="nav-item nav-item-active">
          <span class="icon">üß©</span>
          Servicios campa√±a
        </a>

        <!-- Otros apartados (placeholder de momento) -->
        <div class="nav-item">
          <span class="icon">üè†</span>
          Propiedades
        </div>
        <div class="nav-item">
          <span class="icon">üì£</span>
          Difusores
        </div>
        <div class="nav-item">
          <span class="icon">üïµÔ∏è</span>
          Auditor√≠a
        </div>
      </nav>

      <div class="sidebar-footer">
        Vista dedicada para gestionar todos los servicios activos y pendientes.
      </div>
    </aside>

    <!-- MAIN ----------------------------------------------------------------->
    <main class="main">
      <header class="top-bar">
        <div class="top-left">
          <div class="top-title">Servicios de la campa√±a</div>
          <div class="top-subtitle">
            Activa, desactiva y revisa el coste educativo 7.0 de tu operaci√≥n.
          </div>
        </div>
        <div class="top-right">
          <span class="badge-sistema">Sistema 7.0</span>
          <a href="dashboard-clean.html" class="pill pill-ghost">‚Üê Volver al dashboard</a>
        </div>
      </header>

      <section class="card">
        <div class="card-header">
          <div class="card-header-main">
            <h2>Servicios disponibles para esta campa√±a</h2>
            <p>
              Esta vista muestra todos los servicios que puedes activar o
              desactivar. Los estados se guardan y se sincronizan con el
              dashboard.
            </p>
          </div>
        </div>

        <!-- Resumen de estado -->
        <div class="services-summary">
          <div class="summary-pill" id="summary-activos">
            <span class="dot"></span>
            <span><strong>0</strong> servicios activos</span>
          </div>
          <div class="summary-pill inactive" id="summary-pendientes">
            <span class="dot"></span>
            <span><strong>0</strong> servicios pendientes</span>
          </div>
        </div>

        <!-- Grid de servicios -->
        <div class="services-layout" id="servicesGrid"></div>

        <p class="services-footer-hint">
          El propietario ve esta p√°gina como un "cat√°logo t√°ctico" del m√©todo
          7.0: aqu√≠ se decide hasta d√≥nde se quiere llegar en marketing,
          difusi√≥n y narrativa educativa de la venta.
        </p>
      </section>
    </main>
  </div>

  <script>
    // Clave compartida con el dashboard para sincronizar estados
    const STORAGE_KEY = "panamoveServicios";

    // Lista de servicios (incluye los 4 originales + m√°s ejemplos)
    const serviciosBase = [
      {
        id: "fotos",
        nombre: "Fotos PRO",
        categoria: "Imagen",
        precio: "450 ‚Ç¨ ¬∑ pago a √©xito",
        descripcion: "Fot√≥grafo especializado inmobiliario.",
        meta: "Sesi√≥n interior + exterior en alta resoluci√≥n.",
        activoPorDefecto: true,
      },
      {
        id: "video-dron",
        nombre: "V√≠deo + dron",
        categoria: "V√≠deo",
        precio: "450 ‚Ç¨ ¬∑ pago a √©xito",
        descripcion: "Recorrido interior + vistas a√©reas.",
        meta: "Ideal para campa√±as potentes y redes sociales.",
        activoPorDefecto: true,
      },
      {
        id: "home-staging",
        nombre: "Home staging",
        categoria: "Est√©tica",
        precio: "750‚Äì1200 ‚Ç¨ ¬∑ pago a √©xito",
        descripcion: "Mejora est√©tica sin reformas pesadas.",
        meta: "Incluye propuesta de estilo y reordenaci√≥n.",
        activoPorDefecto: true,
      },
      {
        id: "blogger-internacional",
        nombre: "Blogger internacional",
        categoria: "Difusi√≥n",
        precio: "3000 ‚Ç¨ ¬∑ pago a √©xito",
        descripcion: "Historia real de la vivienda en otro pa√≠s.",
        meta: "Enlace directo con p√∫blico extranjero.",
        activoPorDefecto: false,
      },
      {
        id: "tour-360",
        nombre: "Tour virtual 360¬∫",
        categoria: "Tecnolog√≠a",
        precio: "350 ‚Ç¨ ¬∑ pago √∫nico",
        descripcion: "Recorrido virtual interactivo de la vivienda.",
        meta: "Perfecto para compradores internacionales.",
        activoPorDefecto: false,
      },
      {
        id: "copy-luxury",
        nombre: "Copywriting de lujo",
        categoria: "Narrativa",
        precio: "280 ‚Ç¨ ¬∑ pago √∫nico",
        descripcion:
          "Texto editorial estilo revista para portales y dossieres.",
        meta: "Orientado a p√∫blicos premium e inversores.",
        activoPorDefecto: false,
      },
      {
        id: "plan-medios",
        nombre: "Plan de medios 7.0",
        categoria: "Difusi√≥n",
        precio: "900 ‚Ç¨ ¬∑ pago a √©xito",
        descripcion:
          "Estrategia coordinada en portales, redes y base de datos.",
        meta: "Control centralizado de todos los impactos.",
        activoPorDefecto: false,
      },
      {
        id: "open-house",
        nombre: "Open House privado",
        categoria: "Eventos",
        precio: "600 ‚Ç¨ ¬∑ pago a √©xito",
        descripcion:
          "Jornada de puertas abiertas para compradores filtrados.",
        meta: "Se prepara guion, timings y feedback de visitas.",
        activoPorDefecto: false,
      },
      {
        id: "arquitecto",
        nombre: "Informe arquitecto 7.0",
        categoria: "T√©cnico",
        precio: "450 ‚Ç¨ ¬∑ pago √∫nico",
        descripcion:
          "Informe visual sobre estado, mejoras y potencial de la vivienda.",
        meta: "Aporta confianza al comprador indeciso.",
        activoPorDefecto: false,
      },
      {
        id: "notion-dossier",
        nombre: "Dossier interactivo",
        categoria: "Documento",
        precio: "220 ‚Ç¨ ¬∑ pago √∫nico",
        descripcion:
          "Dossier online con fotos, planos, c√°lculos y storytelling.",
        meta: "Se comparte con compradores serios por enlace privado.",
        activoPorDefecto: false,
      },
      {
        id: "whatsapp-camp",
        nombre: "Campa√±a WhatsApp PRO",
        categoria: "Difusi√≥n",
        precio: "350 ‚Ç¨ ¬∑ pago a √©xito",
        descripcion:
          "Mensajes guiados y seguimiento con compradores de tu base.",
        meta: "Controlamos aperturas, respuestas y tiempos.",
        activoPorDefecto: false,
      },
      {
        id: "embudo-7",
        nombre: "Embudo 7 pasos",
        categoria: "Sistema 7.0",
        precio: "Incluido seg√∫n pack",
        descripcion:
          "Seguimiento paso a paso desde lead fr√≠o hasta oferta firme.",
        meta: "Visi√≥n completa para la parte educativa del m√©todo.",
        activoPorDefecto: true,
      },
    ];

    // Cargar estado previo de localStorage y mezclar con base
    function loadServicios() {
      let stored = [];
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (raw) stored = JSON.parse(raw);
      } catch (e) {
        console.warn("No se pudo leer localStorage", e);
      }

      const mapStored = new Map(stored.map((s) => [s.id, s]));
      return serviciosBase.map((svc) => {
        const saved = mapStored.get(svc.id);
        return {
          ...svc,
          activo:
            saved && typeof saved.activo === "boolean"
              ? saved.activo
              : !!svc.activoPorDefecto,
        };
      });
    }

    let servicios = loadServicios();

    function saveServicios() {
      try {
        const minimal = servicios.map((s) => ({ id: s.id, activo: s.activo }));
        localStorage.setItem(STORAGE_KEY, JSON.stringify(minimal));
      } catch (e) {
        console.warn("No se pudo guardar en localStorage", e);
      }
    }

    const servicesGrid = document.getElementById("servicesGrid");
    const summaryActivos = document.getElementById("summary-activos");
    const summaryPendientes = document.getElementById("summary-pendientes");

    function renderResumen() {
      const activos = servicios.filter((s) => s.activo).length;
      const pendientes = servicios.length - activos;

      summaryActivos.querySelector("strong").textContent = activos;
      summaryPendientes.querySelector("strong").textContent = pendientes;

      // Cambiamos un poco el color si no hay activos
      if (!activos) {
        summaryActivos.classList.add("inactive");
      } else {
        summaryActivos.classList.remove("inactive");
      }
      if (!pendientes) {
        summaryPendientes.classList.add("inactive");
      } else {
        summaryPendientes.classList.remove("inactive");
      }
    }

    function createServiceCard(svc) {
      const card = document.createElement("article");
      card.className = "service-card" + (svc.activo ? " service-card-active" : "");
      card.dataset.id = svc.id;

      card.innerHTML = `
        <div class="service-card-header">
          <div>
            <div class="service-name">${svc.nombre}</div>
            <div class="service-price">${svc.precio}</div>
          </div>
          <div class="service-tag">${svc.categoria}</div>
        </div>
        <p class="service-desc">${svc.descripcion}</p>
        <p class="service-meta">${svc.meta}</p>
        <div class="service-footer">
          <span class="service-state-pill ${svc.activo ? "" : "inactive"}">
            <span class="icon">‚òÖ</span>
            <span>${svc.activo ? "Servicio activado" : "Pendiente de activar"}</span>
          </span>
          <div>
            <button class="service-btn ${
              svc.activo ? "service-btn-danger" : "service-btn-primary"
            } btn-toggle">
              ${svc.activo ? "Desactivar" : "Activar servicio"}
            </button>
          </div>
        </div>
      `;

      const btnToggle = card.querySelector(".btn-toggle");
      btnToggle.addEventListener("click", () => {
        toggleServicio(svc.id);
      });

      return card;
    }

    function renderServicios() {
      servicesGrid.innerHTML = "";
      servicios.forEach((svc) => {
        const card = createServiceCard(svc);
        servicesGrid.appendChild(card);
      });
      renderResumen();
    }

    function toggleServicio(id) {
      servicios = servicios.map((svc) =>
        svc.id === id ? { ...svc, activo: !svc.activo } : svc
      );
      saveServicios();
      renderServicios();
    }

    // Inicializar
    renderServicios();
  </script>
</body>
</html>
