<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Plataforma 7.0 ‚Äì Panel demostraci√≥n</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #020617;
      color: #e5e7eb;
      line-height: 1.5;
    }
    a { color: inherit; text-decoration: none; }

    .page { min-height: 100vh; display: flex; flex-direction: column; }

    header {
      padding: 1.2rem 1.5rem 0.8rem;
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: .6rem;
    }
    .logo-icon {
      width: 38px;
      height: 38px;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #38bdf8);
      display: grid;
      place-items: center;
      font-weight: 700;
      color: #0f172a;
      font-size: .85rem;
    }
    .logo-text small {
      font-size: .7rem;
      text-transform: uppercase;
      letter-spacing: .12em;
      color: #9ca3af;
    }
    .logo-text span {
      font-size: 1rem;
      font-weight: 600;
    }

    .header-actions {
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .btn-mini {
      font-size: .75rem;
      padding: .3rem .75rem;
      border-radius: .75rem;
      border: 1px solid #1f2937;
      background: #0b1120;
      cursor: pointer;
    }

    .chip {
      font-size: .7rem;
      padding: .25rem .7rem;
      border-radius: 999px;
      border: 1px solid #1f2937;
      color: #9ca3af;
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: .4rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .tab {
      font-size: .8rem;
      padding: .45rem .9rem;
      border-radius: 999px;
      border: 1px solid #1f2937;
      background: #020617;
      cursor: pointer;
      color: #cbd5f5;
    }
    .tab.active {
      background: #22c55e;
      color: #022c22;
      border-color: #22c55e;
      font-weight: 600;
    }

    /* Panel grid */
    main {
      flex: 1;
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem 2rem;
    }
    .page-title h1 {
      font-size: 1.4rem;
      margin-bottom: .2rem;
    }
    .page-title p {
      font-size: .85rem;
      color: #9ca3af;
    }

    .grid {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 2fr);
      gap: 1.5rem;
    }
    @media (max-width: 900px) {
      .grid { grid-template-columns: minmax(0, 1fr); }
    }

    /* Cards */
    .card {
      background: #020617;
      border-radius: 1rem;
      border: 1px solid #1f2937;
      padding: 1rem 1rem 1.1rem;
      box-shadow: 0 18px 40px -30px rgba(15,23,42,0.95);
    }
    .card h2 { font-size: 1rem; margin-bottom: .25rem; }
    .card p { font-size: .85rem; color: #9ca3af; margin-bottom: .6rem; }

    /* Badges */
    .badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
      margin-bottom: .7rem;
    }
    .badge {
      font-size: .7rem;
      padding: .25rem .6rem;
      border-radius: 999px;
      border: 1px solid #1f2937;
      background: #0b1120;
      color: #cbd5f5;
    }

    .section-title {
      font-size: .85rem;
      font-weight: 600;
      margin: .8rem 0 .4rem;
    }

    .list { list-style: none; padding-left: 0; }
    .list li { font-size: .85rem; margin-bottom: .25rem; color:#e5e7eb; }
    .list li::before { content:"‚Ä¢ "; color:#22c55e; }

    /* Services grid */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
      gap: .75rem;
      margin-top: .6rem;
    }

    .service-item {
      padding: .75rem .9rem;
      border-radius: .9rem;
      border: 1px solid #1f2937;
      background: #0b1120;
      display: flex;
      flex-direction: column;
      gap: .25rem;
      min-height: 160px;
      justify-content: space-between;
    }

    .service-meta {
      font-size: .72rem;
      color: #9ca3af;
    }

    /* Botones servicios */
    .service-btn {
      margin-top: .4rem;
      padding: .45rem .75rem;
      border-radius: .6rem;
      border: 1px solid #1f2937;
      background: #020617;
      color: #e5e7eb;
      font-size: .75rem;
      cursor: pointer;
      align-self: flex-start;
    }

    /* Dorado activado */
    .service-btn-gold {
      background: linear-gradient(135deg,#facc15,#b45309);
      border-color: #fbbf24;
      color: #0f172a;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: .35rem;
    }
    .service-btn-gold .crown { font-size: .85rem; }

    /* Realizado por profesional */
    .service-btn-done {
      background: #0b1120;
      border-color: #38bdf8;
      color: #bfdbfe;
      cursor: default;
    }

    /* Bot√≥n FULL ACCIONES */
    .service-btn-full {
      margin-top: .5rem;
      padding: .55rem .9rem;
      border-radius: .8rem;
      border: 1px solid #fbbf24;
      background: linear-gradient(135deg,#facc15,#b45309);
      color: #0f172a;
      font-size: .8rem;
      font-weight: 700;
      display: inline-flex;
      align-items: center;
      gap: .35rem;
      cursor: pointer;
      width: 100%;
      justify-content: center;
    }

    /* Costos */
    .cost-box {
      margin-top: 1.2rem;
      border-radius: .9rem;
      border: 1px solid #1f2937;
      padding: 1rem;
      background: radial-gradient(circle at top left, rgba(250,204,21,0.18), rgba(15,23,42,0.96));
    }
    .cost-label { font-size: .9rem; font-weight: 600; }
    .cost-value { font-size: 1.1rem; font-weight: 700; color: #fde047; }

    .property-box {
      margin-top: 1rem;
      border-radius: .9rem;
      border: 1px solid #1f2937;
      padding: 1rem;
      background: radial-gradient(circle at top left, rgba(56,189,248,0.14), rgba(15,23,42,0.96));
    }
    .property-box input {
      width: 100%;
      margin-top: .4rem;
      padding: .45rem .65rem;
      border-radius: .6rem;
      border: 1px solid #334155;
      background: #0b1120;
      color: #e5e7eb;
      font-size: .85rem;
    }

    footer {
      font-size: .7rem;
      color: #6b7280;
      padding: .75rem 1.5rem 1.3rem;
      max-width: 1100px;
      margin: 0 auto;
    }
  </style>
</head>

<body>
  <div class="page">

    <header>
      <div class="logo">
        <div class="logo-icon">7.0</div>
        <div class="logo-text">
          <small>Panel demostraci√≥n</small>
          <span>Plataforma 7.0</span>
        </div>
      </div>

      <div class="header-actions">
        <a href="index.html" class="btn-mini">‚Üê Volver</a>
        <span class="chip">Prototipo visual ¬∑ Sin servidor real</span>
      </div>
    </header>

    <main>
      <div class="page-title">
        <h1>Panel central de Plataforma 7.0</h1>
        <p>Vista simulada de servicios, acciones y costes en venta colaborativa.</p>
      </div>

      <div class="tabs">
        <button class="tab active" data-tab="propietario">Propietario</button>
        <button class="tab" data-tab="agencia">Agencia</button>
        <button class="tab" data-tab="difusor">Difusor</button>
        <button class="tab" data-tab="auditor">Auditor√≠a</button>
      </div>
      <div class="grid">
        <!-- PANEL PROPIETARIO -->
        <section id="panel-propietario" class="panel">

          <div class="card">
            <h2>Propietario ‚Äì √Åtico Blue Sunset</h2>
            <p>Gesti√≥n completa de servicios activados para acelerar la venta.</p>

            <div class="badge-row">
              <span class="badge">2 dorm ¬∑ 2 ba√±os</span>
              <span class="badge">Vistas al mar</span>
              <span class="badge">La Duquesa ¬∑ Manilva</span>
              <span class="badge">Campa√±a activa</span>
            </div>

            <!-- CAJA PRECIO DE LA PROPIEDAD -->
            <div class="property-box">
              <div class="cost-label">Precio de la propiedad</div>
              <input id="property-price" type="number" value="385000" />
              <small class="cost-note">Puedes modificar el precio en cualquier momento.</small>
            </div>

            <!-- CAJA COSTES Y NETO -->
            <div class="cost-box" style="margin-top:1.3rem;">
              <div class="cost-main" style="display:flex;justify-content:space-between;">
                <span class="cost-label">Total servicios activados:</span>
                <span class="cost-value" id="cost-total">0 ‚Ç¨</span>
              </div>

              <div class="cost-main" style="display:flex;justify-content:space-between;margin-top:.7rem;">
                <span class="cost-label">3% Gesti√≥n total 7.0:</span>
                <span class="cost-value" id="cost-three">0 ‚Ç¨</span>
              </div>

              <hr style="border-color:#1f2937;margin:.8rem 0;">

              <div class="cost-main" style="display:flex;justify-content:space-between;">
                <span class="cost-label">Neto para el propietario:</span>
                <span class="cost-value" id="net-owner">0 ‚Ç¨</span>
              </div>

              <p class="cost-note">
                Neto antes de plusval√≠a municipal. Incluye servicios <strong>+ 3% a √©xito</strong> si Gesti√≥n total 7.0 est√° activa.
              </p>
            </div>

            <div class="section-title">Servicios disponibles</div>

            <div class="services-grid">

              <!-- Ejemplo de servicio -->
              <div class="service-item">
                <strong>Fotos PRO</strong>
                <div class="service-meta">450 ‚Ç¨ ¬∑ pago a √©xito</div>
                <div class="service-meta">Fot√≥grafo especializado inmobiliario.</div>
                <button class="service-btn" data-service="fotos">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>V√≠deo + dron</strong>
                <div class="service-meta">450 ‚Ç¨ ¬∑ pago a √©xito</div>
                <div class="service-meta">Recorrido interior + vistas a√©reas.</div>
                <button class="service-btn" data-service="video">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Home staging</strong>
                <div class="service-meta">900 ‚Ç¨</div>
                <div class="service-meta">Mejora est√©tica sin reformas.</div>
                <button class="service-btn" data-service="staging">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Blogger internacional</strong>
                <div class="service-meta">3000 ‚Ç¨ ¬∑ a √©xito</div>
                <div class="service-meta">Historia real publicada en otro pa√≠s.</div>
                <button class="service-btn" data-service="blogger">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Revisi√≥n legal</strong>
                <div class="service-meta">250 ‚Ç¨</div>
                <div class="service-meta">Informe legal completo.</div>
                <button class="service-btn" data-service="legal">Activar este servicio</button>
              </div>

              <!-- Grupo comercial -->
              <div class="service-item">
                <strong>Acompa√±amiento a visitas</strong>
                <div class="service-meta">200 ‚Ç¨ estimados</div>
                <div class="service-meta">Visitas + informe.</div>
                <button class="service-btn" data-service="acomp_visitas">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Atenci√≥n de llamadas</strong>
                <div class="service-meta">120 ‚Ç¨ / mes</div>
                <div class="service-meta">Filtro de compradores.</div>
                <button class="service-btn" data-service="atencion_llamadas">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Gesti√≥n de agenda</strong>
                <div class="service-meta">150 ‚Ç¨ / mes</div>
                <div class="service-meta">Organizaci√≥n visitas.</div>
                <button class="service-btn" data-service="gestion_agenda">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Informe semanal</strong>
                <div class="service-meta">90 ‚Ç¨ / mes</div>
                <div class="service-meta">Seguimiento total.</div>
                <button class="service-btn" data-service="informe_semanal">Activar este servicio</button>
              </div>

              <!-- Marketing -->
              <div class="service-item">
                <strong>Campa√±a redes sociales</strong>
                <div class="service-meta">150 ‚Ç¨</div>
                <div class="service-meta">Segmentaci√≥n internacional.</div>
                <button class="service-btn" data-service="campanas_redes">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Red difusores</strong>
                <div class="service-meta">500 ‚Ç¨</div>
                <div class="service-meta">Comunidades locales.</div>
                <button class="service-btn" data-service="difusores_locales">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Influencers extranjeros</strong>
                <div class="service-meta">2500 ‚Ç¨</div>
                <div class="service-meta">Audiencia extranjera.</div>
                <button class="service-btn" data-service="influencers_extranjeros">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Tour virtual 3D</strong>
                <div class="service-meta">300 ‚Ç¨</div>
                <div class="service-meta">Recorrido 360¬∫.</div>
                <button class="service-btn" data-service="tour_3d">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Reportaje nocturno</strong>
                <div class="service-meta">120 ‚Ç¨</div>
                <div class="service-meta">Ambiente premium.</div>
                <button class="service-btn" data-service="reportaje_nocturno">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Copywriting premium</strong>
                <div class="service-meta">70 ‚Ç¨</div>
                <div class="service-meta">Historia real.</div>
                <button class="service-btn" data-service="copywriting">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Carta de venta</strong>
                <div class="service-meta">130 ‚Ç¨</div>
                <div class="service-meta">PDF profesional.</div>
                <button class="service-btn" data-service="carta_venta">Activar este servicio</button>
              </div>

              <!-- T√©cnicos -->
              <div class="service-item">
                <strong>Valoraci√≥n profesional</strong>
                <div class="service-meta">180 ‚Ç¨</div>
                <div class="service-meta">Precio real del mercado.</div>
                <button class="service-btn" data-service="valoracion_basica">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Valoraci√≥n ampliada</strong>
                <div class="service-meta">250 ‚Ç¨</div>
                <div class="service-meta">Estrategia completa.</div>
                <button class="service-btn" data-service="valoracion_ampliada">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Informe fiscal</strong>
                <div class="service-meta">180 ‚Ç¨</div>
                <div class="service-meta">Neto real final.</div>
                <button class="service-btn" data-service="informe_fiscal">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Certificado energ√©tico</strong>
                <div class="service-meta">80 ‚Ç¨</div>
                <div class="service-meta">Obligatorio.</div>
                <button class="service-btn" data-service="cert_energetico">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Plano profesional</strong>
                <div class="service-meta">130 ‚Ç¨</div>
                <div class="service-meta">2D/3D profesional.</div>
                <button class="service-btn" data-service="planos">Activar este servicio</button>
              </div>

              <!-- Mejoras f√≠sicas -->
              <div class="service-item">
                <strong>Limpieza profesional</strong>
                <div class="service-meta">100 ‚Ç¨</div>
                <div class="service-meta">Puesta a punto.</div>
                <button class="service-btn" data-service="limpieza">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Peque√±os arreglos</strong>
                <div class="service-meta">250 ‚Ç¨</div>
                <div class="service-meta">Detalles clave.</div>
                <button class="service-btn" data-service="pequenos_arreglos">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Lavado de cara expr√©s</strong>
                <div class="service-meta">450 ‚Ç¨</div>
                <div class="service-meta">Mejora r√°pida.</div>
                <button class="service-btn" data-service="lavado_cara">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Optimizaci√≥n terraza</strong>
                <div class="service-meta">400 ‚Ç¨</div>
                <div class="service-meta">Decoraci√≥n b√°sica.</div>
                <button class="service-btn" data-service="optim_terraza">Activar este servicio</button>
              </div>

              <div class="service-item">
                <strong>Reformas ligeras</strong>
                <div class="service-meta">800 ‚Ç¨</div>
                <div class="service-meta">Reforma estrat√©gica.</div>
                <button class="service-btn" data-service="reformas_ligeras">Activar este servicio</button>
              </div>

              <!-- Gesti√≥n TOTAL -->
              <div class="service-item">
                <strong>Gesti√≥n total 7.0</strong>
                <div class="service-meta">3% a √©xito</div>
                <div class="service-meta">Full acciones hasta notar√≠a.</div>

                <button class="service-btn" data-service="gestion_total">Activar este servicio</button>

                <button class="service-btn-full" id="btn-full-acciones">
                  <span class="crown">üëë</span> Full acciones 7.0
                </button>
              </div>

            </div>
          </div>
        </section>
  <script>
    // Tabs
    const tabs = document.querySelectorAll('.tab');
    const panels = document.querySelectorAll('.panel');

    function showTab(name){
      panels.forEach(p => {
        if(p.id === 'panel-' + name){ p.style.display = '' }
        else { p.style.display = 'none' }
      });
      tabs.forEach(t => {
        t.classList.toggle('active', t.dataset.tab === name);
      });
    }
    tabs.forEach(t => t.addEventListener('click', () => showTab(t.dataset.tab)));
    showTab('propietario');

    // ----------------------------------------------------
    // VARIABLES PRINCIPALES
    // ----------------------------------------------------
    const estadosServicios = {}; // estado: off | on | done
    const serviceButtons = document.querySelectorAll('.service-btn[data-service]');
    const fullActionsBtn = document.getElementById('btn-full-acciones');
    const propertyPriceEl = document.getElementById('property-price');
    const costTotalEl = document.getElementById('cost-total');
    const costThreeEl = document.getElementById('cost-three');
    const netOwnerEl = document.getElementById('net-owner');

    // CONFIGURACI√ìN DE PRECIOS
    const serviceConfig = {
      fotos: 450,
      video: 450,
      staging: 900,
      blogger: 3000,
      legal: 250,
      acomp_visitas: 200,
      atencion_llamadas: 120,
      gestion_agenda: 150,
      informe_semanal: 90,
      campanas_redes: 150,
      difusores_locales: 500,
      influencers_extranjeros: 2500,
      tour_3d: 300,
      reportaje_nocturno: 120,
      copywriting: 70,
      carta_venta: 130,
      valoracion_basica: 180,
      valoracion_ampliada: 250,
      informe_fiscal: 180,
      cert_energetico: 80,
      planos: 130,
      limpieza: 100,
      pequenos_arreglos: 250,
      lavado_cara: 450,
      optim_terraza: 400,
      reformas_ligeras: 800,
      asistente_personal: 150,
      gestion_total: 0 // va por %
    };

    // ----------------------------------------------------
    // RENDER SERVICIOS (CAMBIOS VISUALES DE BOTONES)
    // ----------------------------------------------------
    function renderServicios() {
      serviceButtons.forEach(btn => {
        const id = btn.dataset.service;
        const state = estadosServicios[id] || 'off';
        btn.classList.remove('service-btn-gold', 'service-btn-done');
        btn.disabled = false;

        if (state === 'off') {
          btn.innerHTML = 'Activar este servicio';
        }
        if (state === 'on') {
          btn.classList.add('service-btn-gold');
          btn.innerHTML = `<span class="crown">üëë</span> Servicio activado`;
        }
        if (state === 'done') {
          btn.classList.add('service-btn-done');
          btn.textContent = 'Realizado';
          btn.disabled = true;
        }
      });

      calcularTotales();
    }

    // ----------------------------------------------------
    // CALCULAR COSTE TOTAL + 3% + NETO FINAL
    // ----------------------------------------------------
    function calcularTotales() {
      let totalServicios = 0;

      for (const id in estadosServicios) {
        if (estadosServicios[id] === 'on') {
          totalServicios += serviceConfig[id] || 0;
        }
      }

      // Mostrar total servicios
      costTotalEl.textContent = totalServicios.toLocaleString('es-ES') + ' ‚Ç¨';

      // Calcular 3% si gesti√≥n total est√° activa
      const gestionActiva = estadosServicios['gestion_total'] === 'on';
      let valorProp = parseFloat(propertyPriceEl.value || 0);

      let three = gestionActiva ? valorProp * 0.03 : 0;
      costThreeEl.textContent = three.toLocaleString('es-ES') + ' ‚Ç¨';

      // Neto final
      let neto = valorProp - (totalServicios + three);
      netOwnerEl.textContent = neto.toLocaleString('es-ES') + ' ‚Ç¨';
    }

    // Recalcular cuando se cambia el precio
    propertyPriceEl.addEventListener('input', calcularTotales);

    // ----------------------------------------------------
    // CLICK INDIVIDUAL DE SERVICIOS
    // ----------------------------------------------------
    serviceButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.dataset.service;
        const estadoActual = estadosServicios[id] || 'off';

        if (estadoActual === 'off') {
          estadosServicios[id] = 'on';
        } else if (estadoActual === 'on') {
          estadosServicios[id] = 'off';
        }

        renderServicios();
      });
    });

    // ----------------------------------------------------
    // FULL ACCIONES 7.0 ‚Äî ACTIVA TODOS LOS SERVICIOS
    // ----------------------------------------------------
    if (fullActionsBtn) {
      fullActionsBtn.addEventListener('click', () => {
        const activarTodo = fullActionsBtn.dataset.active !== 'true';

        if (activarTodo) {
          // Activar todos
          Object.keys(serviceConfig).forEach(id => estadosServicios[id] = 'on');
          fullActionsBtn.dataset.active = 'true';
          fullActionsBtn.innerHTML = `<span class="crown">üëë</span> Desactivar Full acciones`;
        } else {
          // Desactivar todos
          Object.keys(serviceConfig).forEach(id => estadosServicios[id] = 'off');
          fullActionsBtn.dataset.active = 'false';
          fullActionsBtn.innerHTML = `<span class="crown">üëë</span> Full acciones 7.0`;
        }

        renderServicios();
      });
    }

    // Render inicial
    renderServicios();
  </script>
